<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Men√∫ Interactivo - Restaurante</title>

  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#c94f2a"/>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <h1 id="brandTitle">Restaurante</h1>
    </div>

    <div class="controls">
      <label class="small">Idioma
        <select id="langSelect" aria-label="Seleccionar idioma">
          <option value="es">ES</option>
          <option value="en">EN</option>
        </select>
      </label>

      <label class="small">Categor√≠a
        <select id="catFilter">
          <option value="all">Todas</option>
        </select>
      </label>

      <button id="toggleDark" title="Modo oscuro">üåô</button>
      <button id="openAdmin">‚öôÔ∏è Admin</button>
    </div>
  </header>

  <main class="book-wrap">
    <div id="book" class="book" aria-live="polite"></div>

    <nav class="controls-nav">
      <button id="prevBtn" aria-label="P√°gina anterior">‚óÄ</button>
      <span id="pageCounter">0 / 0</span>
      <button id="nextBtn" aria-label="Siguiente p√°gina">‚ñ∂</button>
    </nav>
  </main>

  <!-- Lightbox / ampliaci√≥n -->
  <div id="lightbox" class="lightbox hidden" role="dialog" aria-modal="true">
    <div class="lightbox-content">
      <button id="closeLb" class="close">‚úï</button>
      <img id="lbImg" src="" alt="foto ampliada" />
      <h3 id="lbTitle"></h3>
      <p id="lbDesc"></p>
      <p id="lbPrice"></p>
    </div>
  </div>

  <!-- Admin modal -->
  <div id="admin" class="admin hidden" role="dialog" aria-modal="true">
    <div class="admin-inner">
      <button id="closeAdmin" class="close-admin">‚úï</button>
      <h2>Panel de administraci√≥n</h2>

      <form id="dishForm">
        <input type="hidden" id="dishIndex" value="-1">
        <label>T√≠tulo (ES)<input id="title_es" placeholder="Ceviche Tropical"></label>
        <label>Title (EN)<input id="title_en" placeholder="Tropical Ceviche"></label>
        <label>Descripci√≥n (ES)<textarea id="desc_es" rows="2"></textarea></label>
        <label>Description (EN)<textarea id="desc_en" rows="2"></textarea></label>
        <label>Categor√≠a<input id="category" placeholder="Mariscos"></label>
        <label>Precio<input id="price" placeholder="32000"></label>
        <label>Imagen (subir)
          <input id="imgFile" type="file" accept="image/*" />
        </label>

        <div class="admin-actions">
          <button type="button" id="addDish">Agregar / Actualizar</button>
          <button type="button" id="clearForm">Limpiar</button>
        </div>
      </form>

      <div class="admin-tools">
        <button id="downloadJSON">Descargar JSON</button>
        <input type="file" id="uploadJSON" accept=".json" />
        <button id="resetSample">Restaurar ejemplo</button>
      </div>

      <h3>Platos</h3>
      <div id="adminList" class="admin-list"></div>
      <p class="hint">Los cambios se guardan en <strong>localStorage</strong>. Descarga JSON para persistir fuera del navegador.</p>
    </div>
  </div>

  <script src="app.js" defer></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js').catch(()=>console.log('SW fail'));
    }
  </script>
</body>
</html>
